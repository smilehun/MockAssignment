<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tr√¨nh chi·∫øu d·ª± √°n - Angular Mock Assignment</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f1f5f9;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 400px;
            max-height: 450px;
        }
        @media (max-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .content-section {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .content-section.active {
            display: block;
        }
        .nav-link.active {
            background-color: #2563eb;
            color: white;
        }
        .step-item.active {
            border-color: #2563eb;
            background-color: #dbeafe;
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        .arch-item.active {
             background-color: #dbeafe;
        }
        .tech-item.active {
            background-color: #2563eb;
            color: white;
        }
        .tech-detail, .arch-content, .step-content {
            display: none;
        }
        .tech-detail.active, .arch-content.active, .step-content.active {
            display: block;
            animation: fadeIn 0.4s;
        }
        .arch-content-inner ul {
            list-style-type: disc;
            padding-left: 1.5rem;
        }
        .arch-content-inner li {
            margin-bottom: 0.5rem;
        }
    </style>
</head>
<body class="text-slate-800">

    <div class="flex h-screen">
        <!-- Sidebar Navigation -->
        <aside id="sidebar" class="w-64 bg-slate-800 text-slate-100 p-6 space-y-4 fixed top-0 left-0 h-full transition-transform -translate-x-full md:translate-x-0 z-20 shadow-lg">
            <h1 class="text-2xl font-bold text-white">Angular Mock Assignment</h1>
            <nav id="main-nav" class="space-y-2">
                <a href="#tong-quan" class="nav-link flex items-center p-3 rounded-lg hover:bg-slate-700 transition-colors duration-200">
                    <span class="mr-3">üéØ</span> T·ªïng quan
                </a>
                <a href="#cong-nghe" class="nav-link flex items-center p-3 rounded-lg hover:bg-slate-700 transition-colors duration-200">
                    <span class="mr-3">üõ†Ô∏è</span> C√¥ng ngh·ªá
                </a>
                <a href="#kien-truc" class="nav-link flex items-center p-3 rounded-lg hover:bg-slate-700 transition-colors duration-200">
                    <span class="mr-3">üèóÔ∏è</span> Ki·∫øn tr√∫c
                </a>
                <a href="#toi-uu" class="nav-link flex items-center p-3 rounded-lg hover:bg-slate-700 transition-colors duration-200">
                    <span class="mr-3">‚ö°</span> T·ªëi ∆∞u h√≥a
                </a>
                <a href="#bao-mat" class="nav-link flex items-center p-3 rounded-lg hover:bg-slate-700 transition-colors duration-200">
                    <span class="mr-3">üîí</span> B·∫£o m·∫≠t
                </a>
                <a href="#demo" class="nav-link flex items-center p-3 rounded-lg hover:bg-slate-700 transition-colors duration-200">
                    <span class="mr-3">üöÄ</span> Lu·ªìng Demo
                </a>
            </nav>
        </aside>

        <!-- Mobile Menu Toggle -->
        <button id="menu-toggle" class="md:hidden fixed top-4 left-4 z-30 p-2 bg-slate-800 text-white rounded-md">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
            </svg>
        </button>

        <!-- Main Content -->
        <main class="flex-1 md:ml-64 p-6 md:p-10 overflow-y-auto">
            
            <!-- Section: Overview -->
            <section id="tong-quan" class="content-section space-y-8">
                <header>
                    <h2 class="text-4xl font-bold text-slate-900 border-b-4 border-blue-600 pb-2">M·ª•c ti√™u & Ch·ª©c nƒÉng</h2>
                    <p class="mt-2 text-lg text-slate-600">T·ªïng quan v·ªÅ m·ª•c ƒë√≠ch v√† c√°c t√≠nh nƒÉng c·ªët l√µi c·ªßa d·ª± √°n.</p>
                </header>
                <div class="grid md:grid-cols-2 gap-8">
                    <div class="bg-white p-6 rounded-xl shadow-md border border-slate-200 hover:shadow-lg hover:border-blue-500 transition-all duration-300">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3">M·ª•c ti√™u ch√≠nh</h3>
                        <p>Cung c·∫•p m·ªôt dashboard qu·∫£n tr·ªã <span class="font-semibold text-slate-900">m·∫°nh m·∫Ω, d·ªÖ m·ªü r·ªông v√† th√¢n thi·ªán</span>, gi·∫£i quy·∫øt c√°c b√†i to√°n qu·∫£n l√Ω ph·ª©c t·∫°p v√† mang l·∫°i tr·∫£i nghi·ªám ng∆∞·ªùi d√πng t·ªëi ∆∞u.</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-md border border-slate-200 hover:shadow-lg hover:border-blue-500 transition-all duration-300">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3">Ch·ª©c nƒÉng n·ªïi b·∫≠t</h3>
                        <ul class="space-y-3">
                            <li class="flex items-start"><span class="text-blue-600 mr-3 mt-1">üë•</span> <span><strong class="font-medium">Qu·∫£n l√Ω ng∆∞·ªùi d√πng:</strong> H·ªá th·ªëng qu·∫£n l√Ω to√†n di·ªán.</span></li>
                            <li class="flex items-start"><span class="text-blue-600 mr-3 mt-1">üõ°Ô∏è</span> <span><strong class="font-medium">Ph√¢n quy·ªÅn (RBAC):</strong> Qu·∫£n l√Ω quy·ªÅn truy c·∫≠p chi ti·∫øt v·ªõi CASL.</span></li>
                            <li class="flex items-start"><span class="text-blue-600 mr-3 mt-1">üìä</span> <span><strong class="font-medium">Dashboard ph√¢n t√≠ch:</strong> Bi·ªÉu ƒë·ªì t∆∞∆°ng t√°c, d·ªØ li·ªáu real-time.</span></li>
                            <li class="flex items-start"><span class="text-blue-600 mr-3 mt-1">üì±</span> <span><strong class="font-medium">Thi·∫øt k·∫ø ƒë√°p ·ª©ng:</strong> T·ªëi ∆∞u h√≥a cho m·ªçi thi·∫øt b·ªã.</span></li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Section: Technology -->
            <section id="cong-nghe" class="content-section space-y-8">
                 <header>
                    <h2 class="text-4xl font-bold text-slate-900 border-b-4 border-blue-600 pb-2">C√¥ng ngh·ªá s·ª≠ d·ª•ng</h2>
                    <p class="mt-2 text-lg text-slate-600">Ph√¢n t√≠ch chi ti·∫øt v·ªÅ c√°c c√¥ng ngh·ªá ch√≠nh v√† vai tr√≤ c·ªßa ch√∫ng trong d·ª± √°n.</p>
                </header>
                <div class="grid lg:grid-cols-2 gap-8">
                    <div class="bg-white p-6 rounded-xl shadow-md border border-slate-200">
                        <div class="chart-container">
                            <canvas id="techChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-md border border-slate-200">
                        <h3 class="text-xl font-semibold mb-4">Vai tr√≤ c·ªßa t·ª´ng c√¥ng ngh·ªá</h3>
                        <div class="space-y-2 mb-4">
                            <button class="tech-item w-full text-left p-3 rounded-lg bg-slate-100 hover:bg-blue-100 transition" data-target="tech-angular">Angular 19 & Standalone Components</button>
                            <button class="tech-item w-full text-left p-3 rounded-lg bg-slate-100 hover:bg-blue-100 transition" data-target="tech-ui">PrimeNG & Tailwind CSS</button>
                            <button class="tech-item w-full text-left p-3 rounded-lg bg-slate-100 hover:bg-blue-100 transition" data-target="tech-casl">CASL (Authorization)</button>
                            <button class="tech-item w-full text-left p-3 rounded-lg bg-slate-100 hover:bg-blue-100 transition" data-target="tech-rxjs">RxJS (State Management)</button>
                        </div>
                        <div id="tech-details-content" class="p-4 border-t-2 min-h-[150px]">
                            <div id="tech-angular" class="tech-detail">
                                <h4 class="font-semibold text-lg text-blue-700">Angular 19</h4>
                                <p class="mt-1">N·ªÅn t·∫£ng ch√≠nh ƒë·ªÉ x√¢y d·ª±ng ·ª©ng d·ª•ng. Vi·ªác s·ª≠ d·ª•ng Standalone Components gi√∫p m√£ ngu·ªìn g·ªçn g√†ng, gi·∫£m boilerplate, v√† t·ªëi ∆∞u h√≥a hi·ªáu su·∫•t th√¥ng qua tree-shaking hi·ªáu qu·∫£ h∆°n.</p>
                            </div>
                            <div id="tech-ui" class="tech-detail">
                                <h4 class="font-semibold text-lg text-blue-700">PrimeNG & Tailwind CSS</h4>
                                <p class="mt-1">S·ª± k·∫øt h·ª£p ho√†n h·∫£o gi·ªØa m·ªôt th∆∞ vi·ªán component UI m·∫°nh m·∫Ω (PrimeNG) v√† m·ªôt framework CSS linh ho·∫°t (Tailwind). PrimeNG cung c·∫•p c√°c component ph·ª©c t·∫°p, trong khi Tailwind cho ph√©p t√πy ch·ªânh giao di·ªán nhanh ch√≥ng v√† nh·∫•t qu√°n.</p>
                            </div>
                            <div id="tech-casl" class="tech-detail">
                                <h4 class="font-semibold text-lg text-blue-700">CASL (Authorization)</h4>
                                <p class="mt-1">Th∆∞ vi·ªán ph√¢n quy·ªÅn m·∫°nh m·∫Ω, cho ph√©p ƒë·ªãnh nghƒ©a c√°c quy t·∫Øc truy c·∫≠p ph·ª©c t·∫°p d·ª±a tr√™n vai tr√≤ v√† quy·ªÅn h·∫°n c·ªßa ng∆∞·ªùi d√πng. CASL gi√∫p ki·ªÉm so√°t chi ti·∫øt c√°c h√†nh ƒë·ªông tr√™n t·ª´ng t√†i nguy√™n ·ªü ph√≠a frontend.</p>
                            </div>
                            <div id="tech-rxjs" class="tech-detail">
                                <h4 class="font-semibold text-lg text-blue-700">RxJS</h4>
                                <p class="mt-1">ƒê∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ qu·∫£n l√Ω tr·∫°ng th√°i (state management) m·ªôt c√°ch hi·ªáu qu·∫£ th√¥ng qua `BehaviorSubject`. RxJS gi√∫p x·ª≠ l√Ω c√°c lu·ªìng d·ªØ li·ªáu b·∫•t ƒë·ªìng b·ªô, ƒë·∫£m b·∫£o giao di·ªán lu√¥n ƒë∆∞·ª£c c·∫≠p nh·∫≠t khi c√≥ s·ª± thay ƒë·ªïi d·ªØ li·ªáu.</p>
                            </div>
                             <div id="tech-default">
                                 <p class="text-slate-500">Ch·ªçn m·ªôt c√¥ng ngh·ªá ·ªü tr√™n ƒë·ªÉ xem chi ti·∫øt.</p>
                             </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section: Architecture -->
            <section id="kien-truc" class="content-section space-y-8">
                <header>
                    <h2 class="text-4xl font-bold text-slate-900 border-b-4 border-blue-600 pb-2">Ki·∫øn tr√∫c h·ªá th·ªëng</h2>
                    <p class="mt-2 text-lg text-slate-600">Kh√°m ph√° c·∫•u tr√∫c ph√¢n l·ªõp v√† module h√≥a c·ªßa d·ª± √°n theo d·∫°ng accordion. Nh·∫•n v√†o t·ª´ng m·ª•c ƒë·ªÉ xem chi ti·∫øt.</p>
                </header>
                <div id="architecture-accordion" class="space-y-4">
                    <!-- Accordion Item 1 -->
                    <div class="arch-accordion-item bg-white rounded-xl shadow-md border border-slate-200 overflow-hidden transition-all duration-300">
                        <div class="arch-item p-4 cursor-pointer hover:bg-slate-100">
                            <h4 class="font-semibold text-lg">Pages (Feature Modules)</h4>
                            <p class="text-sm text-slate-500">T·ªï ch·ª©c t√≠nh nƒÉng theo nghi·ªáp v·ª•</p>
                        </div>
                        <div class="arch-content">
                            <div class="arch-content-inner p-4 border-t border-slate-200">
                                <p class="mb-3">T·ªï ch·ª©c ·ª©ng d·ª•ng th√†nh c√°c "feature module" ƒë·ªôc l·∫≠p, m·ªói module ch·ªãu tr√°ch nhi·ªám cho m·ªôt t√≠nh nƒÉng nghi·ªáp v·ª• c·ª• th·ªÉ (VD: Qu·∫£n l√Ω s·∫£n ph·∫©m, Qu·∫£n l√Ω ng∆∞·ªùi d√πng). M·ªói module c√≥ routing, components, services ri√™ng, gi√∫p:</p>
                                <ul>
                                    <li><strong>TƒÉng kh·∫£ nƒÉng b·∫£o tr√¨:</strong> D·ªÖ d√†ng t√¨m v√† s·ª≠a l·ªói trong m·ªôt ph·∫°m vi nh·ªè.</li>
                                    <li><strong>Lazy Loading:</strong> Cho ph√©p t·∫£i c√°c module n√†y theo y√™u c·∫ßu, gi·∫£m k√≠ch th∆∞·ªõc g√≥i ban ƒë·∫ßu.</li>
                                    <li><strong>Ph√¢n chia c√¥ng vi·ªác:</strong> Nhi·ªÅu l·∫≠p tr√¨nh vi√™n c√≥ th·ªÉ l√†m vi·ªác song song tr√™n c√°c module kh√°c nhau.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!-- Accordion Item 2 -->
                    <div class="arch-accordion-item bg-white rounded-xl shadow-md border border-slate-200 overflow-hidden transition-all duration-300">
                        <div class="arch-item p-4 cursor-pointer hover:bg-slate-100">
                            <h4 class="font-semibold text-lg">Services (L·ªõp Logic Nghi·ªáp v·ª•)</h4>
                            <p class="text-sm text-slate-500">T√°ch bi·ªát logic v√† qu·∫£n l√Ω d·ªØ li·ªáu</p>
                        </div>
                        <div class="arch-content">
                             <div class="arch-content-inner p-4 border-t border-slate-200">
                                <p class="mb-3">L√† n∆°i ch·ª©a logic nghi·ªáp v·ª• ch√≠nh c·ªßa ·ª©ng d·ª•ng, t√°ch bi·ªát ho√†n to√†n kh·ªèi l·ªõp tr√¨nh b√†y (component). Vai tr√≤ ch√≠nh:</p>
                                <ul>
                                    <li><strong>Giao ti·∫øp API:</strong> Ch·ªãu tr√°ch nhi·ªám g·ªçi API (s·ª≠ d·ª•ng HttpClient) ƒë·ªÉ l·∫•y, g·ª≠i v√† c·∫≠p nh·∫≠t d·ªØ li·ªáu v·ªõi backend (mock b·∫±ng JSON Server).</li>
                                    <li><strong>Qu·∫£n l√Ω State:</strong> S·ª≠ d·ª•ng RxJS (BehaviorSubject) ƒë·ªÉ t·∫°o ra c√°c "store" c·ª•c b·ªô, qu·∫£n l√Ω tr·∫°ng th√°i c·ªßa m·ªôt t√≠nh nƒÉng v√† cho ph√©p c√°c component kh√°c nhau theo d√µi v√† ph·∫£n ·ª©ng v·ªõi s·ª± thay ƒë·ªïi d·ªØ li·ªáu.</li>
                                    <li><strong>T√°i s·ª≠ d·ª•ng logic:</strong> Cung c·∫•p c√°c ph∆∞∆°ng th·ª©c c√≥ th·ªÉ ƒë∆∞·ª£c inject v√† s·ª≠ d·ª•ng b·ªüi nhi·ªÅu component.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!-- Accordion Item 3 -->
                    <div class="arch-accordion-item bg-white rounded-xl shadow-md border border-slate-200 overflow-hidden transition-all duration-300">
                        <div class="arch-item p-4 cursor-pointer hover:bg-slate-100">
                             <h4 class="font-semibold text-lg">Guards</h4>
                            <p class="text-sm text-slate-500">Ki·ªÉm so√°t quy·ªÅn truy c·∫≠p route</p>
                        </div>
                        <div class="arch-content">
                            <div class="arch-content-inner p-4 border-t border-slate-200">
                                <p class="mb-3">Tri·ªÉn khai c√°c l·ªõp b·∫£o v·ªá route c·ªßa Angular ƒë·ªÉ ki·ªÉm so√°t quy·ªÅn truy c·∫≠p m·ªôt c√°ch ch·∫∑t ch·∫Ω.</p>
                                <ul>
                                    <li><strong><code>CanActivate</code>:</strong> D√πng trong `auth.guard.ts` ƒë·ªÉ ki·ªÉm tra token v√† quy·ªÅn c·ªßa ng∆∞·ªùi d√πng tr∆∞·ªõc khi k√≠ch ho·∫°t m·ªôt route. N·∫øu kh√¥ng h·ª£p l·ªá, ng∆∞·ªùi d√πng s·∫Ω b·ªã ƒëi·ªÅu h∆∞·ªõng ƒë·∫øn trang ƒëƒÉng nh·∫≠p.</li>
                                    <li><strong><code>CanLoad</code>:</strong> NgƒÉn ch·∫∑n vi·ªác t·∫£i m√£ ngu·ªìn c·ªßa m·ªôt module lazy-loaded n·∫øu ng∆∞·ªùi d√πng kh√¥ng c√≥ quy·ªÅn, gi√∫p t·ªëi ∆∞u hi·ªáu nƒÉng v√† b·∫£o m·∫≠t b·∫±ng c√°ch kh√¥ng g·ª≠i code kh√¥ng c·∫ßn thi·∫øt cho client.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!-- Accordion Item 4 -->
                     <div class="arch-accordion-item bg-white rounded-xl shadow-md border border-slate-200 overflow-hidden transition-all duration-300">
                        <div class="arch-item p-4 cursor-pointer hover:bg-slate-100">
                            <h4 class="font-semibold text-lg">Interceptors</h4>
                            <p class="text-sm text-slate-500">X·ª≠ l√Ω request/response to√†n c·ª•c</p>
                        </div>
                        <div class="arch-content">
                            <div class="arch-content-inner p-4 border-t border-slate-200">
                                 <p class="mb-3">Can thi·ªáp v√†o lu·ªìng request/response HTTP m·ªôt c√°ch to√†n c·ª•c. C√°c interceptor ƒë∆∞·ª£c th·ª±c thi theo chu·ªói, cho ph√©p x·ª≠ l√Ω logic m·ªôt c√°ch t·∫≠p trung.</p>
                                <ul>
                                    <li><strong><code>AuthInterceptor</code>:</strong> T·ª± ƒë·ªông th√™m header `Authorization: Bearer <token>` v√†o m·ªçi request g·ª≠i ƒë·∫øn API ƒë∆∞·ª£c b·∫£o v·ªá.</li>
                                    <li><strong><code>ErrorInterceptor</code>:</strong> B·∫Øt c√°c l·ªói HTTP (nh∆∞ 401, 403, 500) ƒë·ªÉ x·ª≠ l√Ω t·∫≠p trung, v√≠ d·ª•: t·ª± ƒë·ªông ƒëƒÉng xu·∫•t ng∆∞·ªùi d√πng khi token h·∫øt h·∫°n (l·ªói 401) ho·∫∑c hi·ªÉn th·ªã th√¥ng b√°o l·ªói chung.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!-- Accordion Item 5 -->
                     <div class="arch-accordion-item bg-white rounded-xl shadow-md border border-slate-200 overflow-hidden transition-all duration-300">
                        <div class="arch-item p-4 cursor-pointer hover:bg-slate-100">
                            <h4 class="font-semibold text-lg">Shared & Layout</h4>
                            <p class="text-sm text-slate-500">T√°i s·ª≠ d·ª•ng code v√† giao di·ªán chung</p>
                        </div>
                        <div class="arch-content">
                             <div class="arch-content-inner p-4 border-t border-slate-200">
                                <p class="mb-3">T·∫≠p h·ª£p c√°c th√†nh ph·∫ßn c√≥ th·ªÉ t√°i s·ª≠ d·ª•ng tr√™n to√†n ·ª©ng d·ª•ng ƒë·ªÉ tu√¢n th·ªß nguy√™n t·∫Øc DRY (Don't Repeat Yourself).</p>
                                 <ul>
                                    <li><strong>Shared:</strong> Ch·ª©a c√°c component chung (`Button`, `Modal`), pipes (`vndCurrency`), v√† directives (`hasPermission`). V·ªõi ki·∫øn tr√∫c Standalone, ch√∫ng ƒë∆∞·ª£c import tr·ª±c ti·∫øp v√†o n∆°i c·∫ßn s·ª≠ d·ª•ng.</li>
                                    <li><strong>Layout:</strong> Ch·ª©a c√°c component c·∫•u th√†nh n√™n khung s∆∞·ªùn c·ªßa ·ª©ng d·ª•ng nh∆∞ `Sidebar`, `Header`, `Footer`. C√°c component n√†y ƒë·ªãnh h√¨nh giao di·ªán chung v√† th∆∞·ªùng ch·ª©a c√°c outlet (`<router-outlet>`) ƒë·ªÉ hi·ªÉn th·ªã n·ªôi dung c·ªßa c√°c trang.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section: Optimization -->
            <section id="toi-uu" class="content-section space-y-8">
                 <header>
                    <h2 class="text-4xl font-bold text-slate-900 border-b-4 border-blue-600 pb-2">T·ªëi ∆∞u h√≥a & Hi·ªáu nƒÉng</h2>
                     <p class="mt-2 text-lg text-slate-600">C√°c k·ªπ thu·∫≠t ch√≠nh ƒë∆∞·ª£c √°p d·ª•ng ƒë·ªÉ c·∫£i thi·ªán hi·ªáu su·∫•t v√† tr·∫£i nghi·ªám ng∆∞·ªùi d√πng.</p>
                </header>
                <div class="bg-white p-8 rounded-xl shadow-md border border-slate-200">
                    <ul class="space-y-4 list-disc list-inside">
                        <li><strong>Lazy Loading:</strong> Ch·ªâ t·∫£i c√°c module t√≠nh nƒÉng khi c·∫ßn thi·∫øt, gi√∫p gi·∫£m ƒë√°ng k·ªÉ th·ªùi gian t·∫£i ban ƒë·∫ßu c·ªßa ·ª©ng d·ª•ng.</li>
                        <li><strong>Global Interceptors:</strong> Qu·∫£n l√Ω tr·∫°ng th√°i t·∫£i v√† x·ª≠ l√Ω l·ªói m·ªôt c√°ch t·∫≠p trung, mang l·∫°i tr·∫£i nghi·ªám ng∆∞·ªùi d√πng m∆∞·ª£t m√† v√† nh·∫•t qu√°n.</li>
                        <li><strong>Standalone Components:</strong> S·ª≠ d·ª•ng ki·∫øn tr√∫c component ƒë·ªôc l·∫≠p c·ªßa Angular 19 gi√∫p gi·∫£m boilerplate, c·∫£i thi·ªán kh·∫£ nƒÉng tree-shaking v√† t·ªëi ∆∞u h√≥a k√≠ch th∆∞·ªõc bundle.</li>
                        <li><strong>Local Cache:</strong> D√πng `localStorage` ƒë·ªÉ l∆∞u tr·ªØ token v√† th√¥ng tin ng∆∞·ªùi d√πng, gi√∫p duy tr√¨ tr·∫°ng th√°i ƒëƒÉng nh·∫≠p v√† gi·∫£m s·ªë l∆∞·ª£ng request kh√¥ng c·∫ßn thi·∫øt ƒë·∫øn server.</li>
                    </ul>
                </div>
            </section>

            <!-- Section: Security -->
            <section id="bao-mat" class="content-section space-y-8">
                <header>
                    <h2 class="text-4xl font-bold text-slate-900 border-b-4 border-blue-600 pb-2">B·∫£o m·∫≠t to√†n di·ªán</h2>
                    <p class="mt-2 text-lg text-slate-600">C√°c l·ªõp b·∫£o v·ªá ƒë∆∞·ª£c t√≠ch h·ª£p ƒë·ªÉ ƒë·∫£m b·∫£o an to√†n d·ªØ li·ªáu v√† quy·ªÅn truy c·∫≠p.</p>
                </header>
                 <div class="grid md:grid-cols-1 lg:grid-cols-3 gap-6">
                    <div class="bg-white p-6 rounded-xl shadow-md border border-slate-200 hover:shadow-lg hover:border-blue-500 transition-all duration-300">
                        <h3 class="text-xl font-semibold text-blue-700 mb-2">Route Guard</h3>
                        <p class="text-sm">Ki·ªÉm tra s·ª± t·ªìn t·∫°i c·ªßa token x√°c th·ª±c trong `localStorage` ho·∫∑c state service tr∆∞·ªõc khi k√≠ch ho·∫°t m·ªôt route. N·∫øu token kh√¥ng h·ª£p l·ªá ho·∫∑c ƒë√£ h·∫øt h·∫°n, Guard s·∫Ω s·ª≠ d·ª•ng `Router` service c·ªßa Angular ƒë·ªÉ h·ªßy ƒëi·ªÅu h∆∞·ªõng v√† ƒë∆∞a ng∆∞·ªùi d√πng v·ªÅ trang ƒëƒÉng nh·∫≠p, ƒë·∫£m b·∫£o component c·ªßa route ƒë∆∞·ª£c b·∫£o v·ªá kh√¥ng bao gi·ªù ƒë∆∞·ª£c kh·ªüi t·∫°o.</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-md border border-slate-200 hover:shadow-lg hover:border-blue-500 transition-all duration-300">
                        <h3 class="text-xl font-semibold text-blue-700 mb-2">Auth Interceptor</h3>
                        <p class="text-sm">T·ª± ƒë·ªông ƒë√≠nh k√®m token x√°c th·ª±c (`Authorization: Bearer <token>`) v√†o m·ªói request API g·ª≠i ƒëi. Gi·∫£i ph√°p n√†y gi√∫p t·∫≠p trung h√≥a logic, tr√°nh l·∫∑p code. Ngo√†i ra, Interceptor c√≤n c√≥ th·ªÉ x·ª≠ l√Ω l·ªói 401 (Unauthorized) b·∫±ng c√°ch t·ª± ƒë·ªông ƒëƒÉng xu·∫•t ng∆∞·ªùi d√πng ho·∫∑c th·ª±c thi lu·ªìng l√†m m·ªõi token.</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-md border border-slate-200 hover:shadow-lg hover:border-blue-500 transition-all duration-300">
                        <h3 class="text-xl font-semibold text-blue-700 mb-2">RBAC v·ªõi CASL</h3>
                        <p class="text-sm">Ph√¢n quy·ªÅn chi ti·∫øt d·ª±a tr√™n vai tr√≤ (Role-Based Access Control) b·∫±ng th∆∞ vi·ªán CASL. CASL cho ph√©p ƒë·ªãnh nghƒ©a quy·ªÅn h·∫°n m·ªôt c√°ch linh ho·∫°t (VD: "admin" `can` 'update' `Post`). Trong giao di·ªán, c√°c ch·ªâ th·ªã (directives) t√πy ch·ªânh s·∫Ω d√πng c√°c quy·ªÅn n√†y ƒë·ªÉ ·∫©n/hi·ªán c√°c n√∫t h√†nh ƒë·ªông (nh∆∞ S·ª≠a, X√≥a), ƒë·∫£m b·∫£o ng∆∞·ªùi d√πng ch·ªâ th·∫•y c√°c ch·ª©c nƒÉng m√† h·ªç ƒë∆∞·ª£c ph√©p s·ª≠ d·ª•ng.</p>
                    </div>
                </div>
            </section>

            <!-- Section: Demo Flow -->
            <section id="demo" class="content-section space-y-8">
                <header>
                    <h2 class="text-4xl font-bold text-slate-900 border-b-4 border-blue-600 pb-2">Lu·ªìng Demo Qu·∫£n l√Ω ng∆∞·ªùi d√πng</h2>
                    <p class="mt-2 text-lg text-slate-600">Tr√¨nh t·ª± c√°c b∆∞·ªõc trong m·ªôt lu·ªìng t∆∞∆°ng t√°c ƒëi·ªÉn h√¨nh. Nh·∫•n v√†o t·ª´ng b∆∞·ªõc ƒë·ªÉ xem m√¥ t·∫£ v√† h√¨nh ·∫£nh minh h·ªça.</p>
                </header>
                <div class="space-y-6">
                    <div class="flex flex-col md:flex-row items-stretch justify-center gap-2 text-center" id="demo-steps">
                        <div class="step-item flex-1 p-4 border-2 border-slate-300 rounded-lg cursor-pointer transition-all duration-200" data-target="step-1">1. ƒêƒÉng nh·∫≠p</div>
                        <div class="hidden md:flex items-center text-slate-400 text-2xl">&rarr;</div>
                        <div class="step-item flex-1 p-4 border-2 border-slate-300 rounded-lg cursor-pointer transition-all duration-200" data-target="step-2">2. Dashboard</div>
                        <div class="hidden md:flex items-center text-slate-400 text-2xl">&rarr;</div>
                        <div class="step-item flex-1 p-4 border-2 border-slate-300 rounded-lg cursor-pointer transition-all duration-200" data-target="step-3">3. Qu·∫£n l√Ω User</div>
                        <div class="hidden md:flex items-center text-slate-400 text-2xl">&rarr;</div>
                        <div class="step-item flex-1 p-4 border-2 border-slate-300 rounded-lg cursor-pointer transition-all duration-200" data-target="step-4">4. ƒêƒÉng xu·∫•t</div>
                    </div>
                    <div id="demo-details" class="bg-white p-6 rounded-xl shadow-md border border-slate-200 min-h-[320px] flex items-center justify-center">
                        <div id="step-1" class="step-content">
                            <div class="flex flex-col md:flex-row items-center gap-6 text-left">
                                <img src="https://placehold.co/400x250/e0f2fe/0c4a6e?text=Trang+Dang+Nhap" alt="Minh h·ªça ƒêƒÉng nh·∫≠p" class="w-full md:w-1/2 rounded-lg shadow-md object-cover">
                                <p class="md:w-1/2"><strong>ƒêƒÉng nh·∫≠p:</strong> Ng∆∞·ªùi d√πng nh·∫≠p th√¥ng tin. `AuthGuard` v√† `AuthService` x√°c th·ª±c. `AuthInterceptor` s·∫Ω g·∫Øn token cho c√°c request sau n√†y.</p>
                            </div>
                        </div>
                        <div id="step-2" class="step-content">
                             <div class="flex flex-col md:flex-row items-center gap-6 text-left">
                                <img src="https://placehold.co/400x250/dcfce7/14532d?text=Dashboard+Phan+Tich" alt="Minh h·ªça Dashboard" class="w-full md:w-1/2 rounded-lg shadow-md object-cover">
                                <p class="md:w-1/2"><strong>Dashboard:</strong> Sau khi ƒëƒÉng nh·∫≠p, ng∆∞·ªùi d√πng th·∫•y trang dashboard v·ªõi c√°c bi·ªÉu ƒë·ªì v√† th·ªëng k√™, minh h·ªça kh·∫£ nƒÉng ph√¢n t√≠ch real-time.</p>
                            </div>
                        </div>
                        <div id="step-3" class="step-content">
                            <div class="flex flex-col md:flex-row items-center gap-6 text-left">
                                <img src="https://placehold.co/400x250/fef3c7/b45309?text=Quan+Ly+Nguoi+Dung" alt="Minh h·ªça Qu·∫£n l√Ω User" class="w-full md:w-1/2 rounded-lg shadow-md object-cover">
                                <p class="md:w-1/2"><strong>Qu·∫£n l√Ω User:</strong> Ng∆∞·ªùi d√πng c√≥ quy·ªÅn (admin/owner) truy c·∫≠p trang qu·∫£n l√Ω. `AbilityService` (CASL) ki·ªÉm tra quy·ªÅn ƒë·ªÉ th·ª±c hi·ªán th√™m/s·ª≠a/x√≥a.</p>
                            </div>
                        </div>
                        <div id="step-4" class="step-content">
                            <div class="flex flex-col md:flex-row items-center gap-6 text-left">
                                <img src="https://placehold.co/400x250/fee2e2/991b1b?text=Xac+Nhan+Dang+Xuat" alt="Minh h·ªça ƒêƒÉng xu·∫•t" class="w-full md:w-1/2 rounded-lg shadow-md object-cover">
                                <p class="md:w-1/2"><strong>ƒêƒÉng xu·∫•t:</strong> Ng∆∞·ªùi d√πng ƒëƒÉng xu·∫•t. `AuthService` x√≥a token kh·ªèi `localStorage` v√† `AbilityService` reset quy·ªÅn.</p>
                            </div>
                        </div>
                        <div id="step-default">
                             <p class="text-slate-500">Ch·ªçn m·ªôt b∆∞·ªõc ·ªü tr√™n ƒë·ªÉ xem m√¥ t·∫£ chi ti·∫øt.</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- JavaScript Logic -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // --- DOM Element Selection ---
            const navLinks = document.querySelectorAll('.nav-link');
            const contentSections = document.querySelectorAll('.content-section');
            const menuToggle = document.getElementById('menu-toggle');
            const sidebar = document.getElementById('sidebar');

            // --- Core Navigation Functions ---
            function setActiveLink(hash) {
                navLinks.forEach(link => {
                    link.classList.toggle('active', link.getAttribute('href') === hash);
                });
            }

            function showContent(hash) {
                contentSections.forEach(section => {
                    section.classList.toggle('active', '#' + section.id === hash);
                });
            }

            function handleNavigation() {
                const hash = window.location.hash || '#tong-quan'; // Default to overview
                setActiveLink(hash);
                showContent(hash);
            }
            
            // --- Event Listeners ---
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetHash = this.getAttribute('href');
                    window.location.hash = targetHash; // Update URL hash to trigger hashchange
                    if (window.innerWidth < 768) { // Auto-close sidebar on mobile
                        sidebar.classList.add('-translate-x-full');
                    }
                });
            });

            window.addEventListener('hashchange', handleNavigation);
            
            menuToggle.addEventListener('click', () => {
                sidebar.classList.toggle('-translate-x-full');
            });

            // --- Chart.js Initialization ---
            const techCtx = document.getElementById('techChart')?.getContext('2d');
            if (techCtx) {
                new Chart(techCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Angular Core', 'UI Layer', 'Authorization', 'State & Testing'],
                        datasets: [{
                            label: 'Ph√¢n b·ªï c√¥ng ngh·ªá',
                            data: [40, 30, 15, 15],
                            backgroundColor: [
                                'rgba(59, 130, 246, 0.8)',
                                'rgba(34, 197, 94, 0.8)',
                                'rgba(239, 68, 68, 0.8)',
                                'rgba(139, 92, 246, 0.8)'
                            ],
                            borderColor: '#f1f5f9',
                            borderWidth: 4,
                            hoverOffset: 8
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return `${context.label}: ${context.raw}%`;
                                    }
                                }
                            }
                        }
                    }
                });
            }
            
            // --- Generic Interactive List Logic ---
            function setupInteractiveList(containerId, itemClass, contentClass, defaultId) {
                const container = document.getElementById(containerId);
                if (!container) return;

                const items = container.querySelectorAll(`.${itemClass}`);
                const contents = container.querySelectorAll(`.${contentClass}`);
                const defaultContent = container.querySelector(`#${defaultId}`);

                items.forEach(item => {
                    item.addEventListener('click', () => {
                        const targetId = item.dataset.target;
                        
                        // If clicking the active item, do nothing (or you can toggle it off)
                        if (item.classList.contains('active')) {
                            return;
                        }

                        items.forEach(i => i.classList.remove('active'));
                        item.classList.add('active');

                        if(defaultContent) defaultContent.style.display = 'none';
                        
                        contents.forEach(content => {
                           content.classList.toggle('active', content.id === targetId);
                        });
                    });
                });
            }

            // --- Architecture Accordion Logic ---
            function setupArchitectureAccordion() {
                const accordionItems = document.querySelectorAll('.arch-accordion-item');
                accordionItems.forEach(item => {
                    const trigger = item.querySelector('.arch-item');
                    const content = item.querySelector('.arch-content');

                    trigger.addEventListener('click', () => {
                        const isCurrentlyActive = trigger.classList.contains('active');

                        // Close all other items
                        accordionItems.forEach(otherItem => {
                            otherItem.querySelector('.arch-item').classList.remove('active');
                            otherItem.querySelector('.arch-content').classList.remove('active');
                        });

                        // If it wasn't active, open it
                        if (!isCurrentlyActive) {
                            trigger.classList.add('active');
                            content.classList.add('active');
                        }
                    });
                });
            }

            // --- Initialize all interactive components ---
            setupArchitectureAccordion();
            setupInteractiveList('cong-nghe', 'tech-item', 'tech-detail', 'tech-default');
            // FIX: Target the parent section 'demo' to correctly find both items and content
            setupInteractiveList('demo', 'step-item', 'step-content', 'step-default');

            // --- Initial Load ---
            handleNavigation();
            // Default select first step in demo
            const firstDemoStep = document.querySelector('#demo-steps .step-item');
            if(firstDemoStep) {
                firstDemoStep.click();
            }
        });
    </script>
</body>
</html>
